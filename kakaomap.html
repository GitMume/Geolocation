<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <fieldset>
        <legend>현재 위치를 지도에 표시하기</legend>
        <div id="map" style="width: 500px; height: 400px; background-color: yellow;">
        </div>
    </fieldset>
    <fieldset>
        <legend>주소로 위치 찾기</legend>
        <div>
            <input id="address" type="text" />
            <button onclick="searchByAddress()">주소명으로 지도 찾기</button>
            <script type="text/javascript"
                src="//dapi.kakao.com/v2/maps/sdk.js?appkey=ab95cb7a7c5d9e62b1cec391795cdb39"></script>
            <script>
                /*
                //샘플 코드
                var mapContainer = document.getElementById('map'); // 지도를 표시할 div
                var mapOption = {
                    center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
                    level: 3 // 지도의 확대 레벨
                };

                // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
                var map = new kakao.maps.Map(mapContainer, mapOption);
            */
                var map;
                //나의 현재 위치 정보 얻기
                if (navigator.geolocation) { //브라우저의 Geolocaiont 지원 여부 판단
                    //PositionOptions 객체 설정용
                    var options = { timeout: 3000, maxinumAge: 5000 };

                    //현재 위치 정보 딱 한 번만 얻기
                    navigator.geolocation.getCurrentPosition(successCallback);
                }

                //위치 정보를 정상적으로 얻었을 때 자동으로 호출되는 콜백 함수: 인자는 Position 객체
                function successCallback(position) {
                    //위도/경도 얻기
                    var lat = position.coords.latitude; //위도
                    var lng = position.coords.longitude; //경도
                    //div에 지도 표시하기
                    displayKakaoMap(lat, lng);
                }

                function displayKakaoMap(lat, lng) {
                    var container = document.getElementById('map'); // 지도를 표시할 div
                    var option = {
                        center: new kakao.maps.LatLng(lat, lng), // 지도의 중심좌표
                        level: 3 // 지도의 확대 레벨
                    };

                    // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
                    map = new kakao.maps.Map(container, option);
                    //지도에 마커 표시하기
                    setMarker(lat, lng);
                }

                //마커 표시하는 함수
                var setMarker = function (lat, lng) {
                    // 마커가 표시될 위치입니다 
                    var markerPosition = new kakao.maps.LatLng(lat, lng);

                    // 마커를 생성합니다
                    var marker = new kakao.maps.Marker({
                        position: markerPosition
                    });

                    // 마커가 지도 위에 표시되도록 설정합니다
                    marker.setMap(map);

                    // 아래 코드는 지도 위의 마커를 제거하는 코드입니다
                    // marker.setMap(null);    
                };
            </script>
        </div>
    </fieldset>
</body>

</html>